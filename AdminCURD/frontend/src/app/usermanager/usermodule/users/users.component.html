<ng-template #deleteDialogTemplate>
  <mat-dialog-content>
    Do you want to delete the <strong style="color: orangered;"><i>{{delData}}</i></strong> user?
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-button mat-dialog-close>No</button>
    <button mat-button mat-dialog-close (click)="deletealert()">Yes</button>
  </mat-dialog-actions>
</ng-template>


<div class="container mt-5">
  <!-- <div class="select mb-3">
        <select class="form-control" [(ngModel)]="selectedLocale" (change)="onLocaleChange()">
          <option *ngFor="let locale of locales" [value]="locale.value">{{ locale.name }}</option>
        </select>
      </div> -->

  <div id="toolbar">

    <div class="mb-2">
      <button class="btn btn-outline-success space" (click)="exportToExcel()">
        <i class="fa fa-trash"></i> Excel
      </button>
      <button class="btn btn-outline-success space" (click)="exportToCSV()">
        <i class="fa fa-trash"></i> CSV
      </button>
      <button class="btn btn-outline-success create" (click)="openAddDialog()">
        <i class="fa fa-trash"></i> Create User
      </button>

    </div>
    <!-- <form> -->
    <!-- <div  class="mb-2">
            <button class="btn btn-outline-success space" (click)=" openDialogOne()">
              <i class="fa fa-trash"></i> CSV
            </button>
            {{isit}}
          </div> -->
    <!-- </form> -->



  </div>


  <table class="table table-striped table-fixed">
    <thead>
      <tr>
        <th>
          <input type="checkbox" (change)="toggleSelectAll($event)" />
        </th>
        <!-- <th>#</th> -->
        <th>
          <div class="thmain">
            <div class="throw">User Name</div>
            <div class="throw">
              <button class="thbtn" (click)="toggle('name','name')">{{arrow['name']}} </button>
            </div>
          </div>
        </th>
        <th>
          <div class="thmain">
            <div class="throw">Email</div>
            <div class="throw">
              <button class="thbtn" (click)="toggle('email','email')">{{arrow['email']}} </button>
            </div>
          </div>
        </th>
        <th>
          <div class="thmain">
            <div class="throw">Comapany</div>
            <div class="throw">
              <button class="thbtn" (click)="toggle('companyName','companyName')">{{arrow['companyName']}} </button>
            </div>
          </div>
        </th>
        <th>
          <div class="thmain">
            <div class="throw">Group Permission</div>
            <div class="throw">
              <button class="thbtn" (click)="toggle('groupName','groupName')">{{arrow['groupName']}} </button>
            </div>
          </div>
        </th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      @for (row of userlist(); track $index) {

      <!-- <tr *ngFor="let row of userlist()"> -->
      @if(row.email !== email){
      <tr>
        <td>
          <!-- <input type="checkbox" [(ngModel)]="row.selected" (change)="onRowSelect(row)" /> -->
          <input type="checkbox" [(ngModel)]="row.selected" (change)="onRowSelect(row)" />
        </td>
        <td>{{ row.name }}</td>
        <td>{{ row.email }}</td>
        <td>{{ row.companyName }}</td>
        <td>{{ row.groupName }}</td>
        <td>
          <!-- <button class="btn btn-primary" (click)="onLike(row)">Like</button>
                  <button class="btn btn-danger" (click)="removeRow(row)">Delete</button> -->
          <button mat-button (click)="openEditDialog(row)">Edit</button>
          <button mat-button (click)="deleteuser(row)">Delete</button>
        </td>

      </tr>
      }
      }
    </tbody>
    <tfoot>
      <tr>
        <td colspan="6" class="text-right">Total Users: {{ userlist().length }}</td>
      </tr>
    </tfoot>

  </table>
</div>